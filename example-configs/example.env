## General PowerSearch Server Settings

POWERSEARCH_LOG_LEVEL=INFO
POWERSEARCH_LOG_PAYLOADS=false
POWERSEARCH_LOG_ESTIMATE_TOKENS=false
POWERSEARCH_LOG_MAX_PAYLOAD_LENGTH=1000
POWERSEARCH_ERRORHANDLING_TRACEBACK=false
POWERSEARCH_ERRORHANDLING_TRANSFORM=true

## SearXNG, fetch, and ranking settings

POWERSEARCH_BASE_URL=http://127.0.0.1:9876
POWERSEARCH_LANGUAGE=en
POWERSEARCH_SAFE_SEARCH=1
POWERSEARCH_FILTER_SCORE_PERCENTILE=75
POWERSEARCH_FILTER_TOP_K=10
POWERSEARCH_CONTENT_STRATEGY=fetch
# POWERSEARCH_CONTENT_STRATEGY=quick
POWERSEARCH_TIMEOUT_SEC=20
POWERSEARCH_HTTP2=true
# POWERSEARCH_CONTENT_LIMIT=4000

## Summary Search Settings

# POWERSEARCH_SUMMARY_CONTENT_LIMIT=4096
# POWERSEARCH_SUMMARY_CHUNK_SIZE=
# POWERSEARCH_SUMMARY_TEMPERATURE=
# POWERSEARCH_SUMMARY_MAX_TOKENS=

## Sampling fallback settings
POWERSEARCH_FALLBACK_BEHAVIOR=fallback
# POWERSEARCH_FALLBACK_BEHAVIOR=always
POWERSEARCH_OPENAI_DEFAULT_MODEL=gpt-5-nano
POWERSEARCH_OPENAI_API_KEY=SECRET
# POWERSEARCH_OPENAI_BASE_URL=

## Response Cache Settings

# POWERSEARCH_CACHE=memory
# POWERSEARCH_CACHE_TTL_SEC=3600

## Retry Settings

POWERSEARCH_RETRY_RETRIES=3
POWERSEARCH_RETRY_BASE_DELAY=1.0
POWERSEARCH_RETRY_MAX_DELAY=60.0
POWERSEARCH_RETRY_BACKOFF_MULTIPLIER=2.0

## Authentication / Authorization

### Example 1, MCP client uses human-in-the-loop OAuth flow to get JWT
# FASTMCP_SERVER_AUTH=fastmcp.server.auth.providers.auth0.Auth0Provider
# FASTMCP_SERVER_AUTH_AUTH0_CONFIG_URL=https://YOUR_DOMAIN/.well-known/openid-configuration
# FASTMCP_SERVER_AUTH_AUTH0_CLIENT_ID=powersearch-mcp-proxy
# FASTMCP_SERVER_AUTH_AUTH0_AUDIENCE=powersearch:mcp
# FASTMCP_SERVER_AUTH_AUTH0_CLIENT_SECRET=SECRET
# FASTMCP_SERVER_AUTH_AUTH0_BASE_URL=http://127.0.0.1:8099
# POWERSEARCH_AUTHZ_POLICY_PATH=example-configs/mcp_policies_oidc_role.json
# POWERSEARCH_ENABLE_AUDIT_LOGGING=true

### Example 2, MCP client gets its own JWT and sends to MCP server
# FASTMCP_SERVER_AUTH=fastmcp.server.auth.providers.jwt.JWTVerifier
# FASTMCP_SERVER_AUTH_JWT_JWKS_URI=https://YOUR_DOMAIN/openid-connect/certs
# FASTMCP_SERVER_AUTH_JWT_ISSUER=https://YOUR_DOMAIN
# FASTMCP_SERVER_AUTH_JWT_AUDIENCE=powersearch:mcp
# FASTMCP_SERVER_AUTH_JWT_REQUIRED_SCOPES=powersearch:mcp:perm:read
# POWERSEARCH_AUTHZ_POLICY_PATH=example-configs/mcp_policies_jwt_scope.json
# POWERSEARCH_ENABLE_AUDIT_LOGGING=true

## FastMCP settings

FASTMCP_LOG_LEVEL=DEBUG
FASTMCP_SHOW_CLI_BANNER=false
FASTMCP_MASK_ERROR_DETAILS=false
FASTMCP_STRICT_INPUT_VALIDATION=true
FASTMCP_INCLUDE_FASTMCP_META=false
FASTMCP_STATELESS_HTTP=true
FASTMCP_DOCKET_URL=memory://
FASTMCP_DOCKET_CONCURRENCY=10
